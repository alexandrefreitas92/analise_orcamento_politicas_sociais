# PPAG 2009 - 2012
df_2010_2011 <- filter(df, Ano %in% c(2010, 2011)) %>%
filter(`Ação` %in% c("8893 - Apoio à Organização e Gestão do Sistema Único de Assistência Social - SUAS",
"8937 - Serviço de Vigilância Social no Território",
"8249 - Funcionamento dos Conselhos de Assistência Social") |
Programa %in% c("1335 - Transferência de Renda com Condicionalidades - Bolsa Família",
"1384 - Proteção Social Básica",
"1385 - Proteção Social Especial"))  %>%
mutate(area = case_when(Programa == "1335 - Transferência de Renda com Condicionalidades - Bolsa Família" ~ "PBF",
`Ação` %in% c("0573 - Benefício de Prestação Continuada da Assistência Social à Pessoa Idosa",
"0575 - Benefício de Prestação Continuada da Assistência Social à Pessoa com Deficiência",
"2583 - Serviço de Processamento de Dados do Benefício de Prestação Continuada e da Renda Mensal Vitalícia",
"2589 - Avaliação e Operacionalização do Benefício de Prestação Continuada da Assistência Social e Manutenção da Renda Mensal Vitalícia",
"0561 - Renda Mensal Vitalícia por Idade",
"0565 - Renda Mensal Vitalícia por Invalidez") ~ "BPC",
TRUE ~ "SUAS")) %>%
group_by(Ano, area) %>%
summarise(Liquidado = sum(Liquidado))
##
df_2012_2015 <- filter(df, Ano %in% c(2012:2015)) %>%
filter(Programa %in% c("2019 - Bolsa Família", "2037 - Fortalecimento do Sistema Único de Assistência Social (SUAS)")) %>%
mutate(area = case_when(`Ação` %in% c("0573 - Benefício de Prestação Continuada da Assistência Social à Pessoa Idosa",
"0575 - Benefício de Prestação Continuada da Assistência Social à Pessoa com Deficiência",
"2583 - Serviço de Processamento de Dados do Benefício de Prestação Continuada (BPC) e da Renda Mensal Vitalícia (RMV)",
"2589 - Avaliação e Operacionalização do Benefício de Prestação Continuada da Assistência Social (BPC) e Manutenção da Renda Mensal Vitalícia (RMV)") ~ "BPC",
str_detect(`Ação`, "2583") ~ "BPC",
str_detect(Objetivo, "0371") ~ 'BPC',
Programa == "2019 - Bolsa Família" ~ "PBF",
TRUE ~ "SUAS")) %>%
group_by(area) %>%
summarise(Liquidado = sum(Liquidado))
##
df_2012_2015 <- filter(df, Ano %in% c(2012:2015)) %>%
filter(Programa %in% c("2019 - Bolsa Família", "2037 - Fortalecimento do Sistema Único de Assistência Social (SUAS)")) %>%
mutate(area = case_when(`Ação` %in% c("0573 - Benefício de Prestação Continuada da Assistência Social à Pessoa Idosa",
"0575 - Benefício de Prestação Continuada da Assistência Social à Pessoa com Deficiência",
"2583 - Serviço de Processamento de Dados do Benefício de Prestação Continuada (BPC) e da Renda Mensal Vitalícia (RMV)",
"2589 - Avaliação e Operacionalização do Benefício de Prestação Continuada da Assistência Social (BPC) e Manutenção da Renda Mensal Vitalícia (RMV)") ~ "BPC",
str_detect(`Ação`, "2583") ~ "BPC",
str_detect(Objetivo, "0371") ~ 'BPC',
Programa == "2019 - Bolsa Família" ~ "PBF",
TRUE ~ "SUAS")) %>%
group_by(Ano, area) %>%
summarise(Liquidado = sum(Liquidado))
## 2016 a 2019
df_2016 <- filter(df, Ano %in% c(2016:2019)) %>%
filter(Programa %in% c("2019 - Inclusão social por meio do Bolsa Família, do Cadastro Único e da articulação de políticas sociais",
"2037 - Consolidação do Sistema Único de Assistência Social (SUAS)")) %>%
mutate(area = case_when(`Ação` %in% c("0573 - Benefício de Prestação Continuada da Assistência Social à Pessoa Idosa",
"0575 - Benefício de Prestação Continuada da Assistência Social à Pessoa com Deficiência",
"2583 - Serviço de Processamento de Dados do Benefício de Prestação Continuada (BPC) e da Renda Mensal Vitalícia (RMV)",
"2589 - Avaliação e Operacionalização do Benefício de Prestação Continuada da Assistência Social (BPC) e Manutenção da Renda Mensal Vitalícia (RMV)") ~ "BPC",
str_detect(`Ação`, "2583") ~ "BPC",
str_detect(Objetivo, "0371") ~ 'BPC',
Programa == "2019 - Bolsa Família" ~ "PBF",
TRUE ~ "SUAS")) #%>%
## 2016 a 2019
df_2016_2019 <- filter(df, Ano %in% c(2016:2019)) %>%
filter(Programa %in% c("2019 - Inclusão social por meio do Bolsa Família, do Cadastro Único e da articulação de políticas sociais",
"2037 - Consolidação do Sistema Único de Assistência Social (SUAS)")) %>%
mutate(area = case_when(`Ação` %in% c("0573 - Benefício de Prestação Continuada da Assistência Social à Pessoa Idosa",
"0575 - Benefício de Prestação Continuada da Assistência Social à Pessoa com Deficiência",
"2583 - Serviço de Processamento de Dados do Benefício de Prestação Continuada (BPC) e da Renda Mensal Vitalícia (RMV)",
"2589 - Avaliação e Operacionalização do Benefício de Prestação Continuada da Assistência Social (BPC) e Manutenção da Renda Mensal Vitalícia (RMV)") ~ "BPC",
str_detect(`Ação`, "2583") ~ "BPC",
str_detect(Objetivo, "0371") ~ 'BPC',
Programa == "2019 - Bolsa Família" ~ "PBF",
TRUE ~ "SUAS")) #%>%
View(df_2016_2019)
## 2016 a 2019
df_2016_2019 <- filter(df, Ano %in% c(2016:2019)) %>%
filter(Programa %in% c("2019 - Inclusão social por meio do Bolsa Família, do Cadastro Único e da articulação de políticas sociais",
"2037 - Consolidação do Sistema Único de Assistência Social (SUAS)")) %>%
mutate(area = case_when(`Ação` %in% c("0573 - Benefício de Prestação Continuada da Assistência Social à Pessoa Idosa",
"0575 - Benefício de Prestação Continuada da Assistência Social à Pessoa com Deficiência",
"2583 - Serviço de Processamento de Dados do Benefício de Prestação Continuada (BPC) e da Renda Mensal Vitalícia (RMV)",
"2589 - Avaliação e Operacionalização do Benefício de Prestação Continuada da Assistência Social (BPC) e Manutenção da Renda Mensal Vitalícia (RMV)") ~ "BPC",
str_detect(`Ação`, "2583") ~ "BPC",
str_detect(Objetivo, "0371") ~ 'BPC',
Programa == "2019 - Inclusão social por meio do Bolsa Família, do Cadastro Único e da articulação de políticas sociais" ~ "PBF",
TRUE ~ "SUAS")) #%>%
## 2016 a 2019
df_2016_2019 <- filter(df, Ano %in% c(2016:2019)) %>%
filter(Programa %in% c("2019 - Inclusão social por meio do Bolsa Família, do Cadastro Único e da articulação de políticas sociais",
"2037 - Consolidação do Sistema Único de Assistência Social (SUAS)")) %>%
mutate(area = case_when(`Ação` %in% c("0573 - Benefício de Prestação Continuada da Assistência Social à Pessoa Idosa",
"0575 - Benefício de Prestação Continuada da Assistência Social à Pessoa com Deficiência",
"2583 - Serviço de Processamento de Dados do Benefício de Prestação Continuada (BPC) e da Renda Mensal Vitalícia (RMV)",
"2589 - Avaliação e Operacionalização do Benefício de Prestação Continuada da Assistência Social (BPC) e Manutenção da Renda Mensal Vitalícia (RMV)") ~ "BPC",
str_detect(`Ação`, "2583") ~ "BPC",
str_detect(Objetivo, "0371") ~ 'BPC',
Programa == "2019 - Inclusão social por meio do Bolsa Família, do Cadastro Único e da articulação de políticas sociais" ~ "PBF",
TRUE ~ "SUAS")) %>%
group_by(Ano, area) %>%
summarise(Liquidado = sum(Liquidado))
View(df_2016_2019)
df_2010_2019 <- bind_rows(df_2010_2011, df_2012_2015, df_2016_2019)
View(df_2010_2019)
# Ler base de dados
df <- read.xlsx("data/execucao_orcamentaria.xlsx")
# Tirar notação científica
options(scipen = 999)
# 2009 - 2012
df_2010_2011 <- filter(df, Ano %in% c(2010, 2011)) %>%
filter(`Ação` %in% c("8893 - Apoio à Organização e Gestão do Sistema Único de Assistência Social - SUAS",
"8937 - Serviço de Vigilância Social no Território",
"8249 - Funcionamento dos Conselhos de Assistência Social") |
Programa %in% c("1335 - Transferência de Renda com Condicionalidades - Bolsa Família",
"1384 - Proteção Social Básica",
"1385 - Proteção Social Especial"))  %>%
mutate(area = case_when(Programa == "1335 - Transferência de Renda com Condicionalidades - Bolsa Família" ~ "PBF",
`Ação` %in% c("0573 - Benefício de Prestação Continuada da Assistência Social à Pessoa Idosa",
"0575 - Benefício de Prestação Continuada da Assistência Social à Pessoa com Deficiência",
"2583 - Serviço de Processamento de Dados do Benefício de Prestação Continuada e da Renda Mensal Vitalícia",
"2589 - Avaliação e Operacionalização do Benefício de Prestação Continuada da Assistência Social e Manutenção da Renda Mensal Vitalícia",
"0561 - Renda Mensal Vitalícia por Idade",
"0565 - Renda Mensal Vitalícia por Invalidez") ~ "BPC",
TRUE ~ "SUAS")) %>%
group_by(Ano, area) %>%
summarise(Liquidado = sum(Liquidado))
## 2012 a 2015
df_2012_2015 <- filter(df, Ano %in% c(2012:2015)) %>%
filter(Programa %in% c("2019 - Bolsa Família", "2037 - Fortalecimento do Sistema Único de Assistência Social (SUAS)")) %>%
mutate(area = case_when(`Ação` %in% c("0573 - Benefício de Prestação Continuada da Assistência Social à Pessoa Idosa",
"0575 - Benefício de Prestação Continuada da Assistência Social à Pessoa com Deficiência",
"2583 - Serviço de Processamento de Dados do Benefício de Prestação Continuada (BPC) e da Renda Mensal Vitalícia (RMV)",
"2589 - Avaliação e Operacionalização do Benefício de Prestação Continuada da Assistência Social (BPC) e Manutenção da Renda Mensal Vitalícia (RMV)") ~ "BPC",
str_detect(`Ação`, "2583") ~ "BPC",
str_detect(Objetivo, "0371") ~ 'BPC',
Programa == "2019 - Bolsa Família" ~ "PBF",
TRUE ~ "SUAS")) %>%
group_by(Ano, area) %>%
summarise(Liquidado = sum(Liquidado))
## 2016 a 2019
df_2016_2019 <- filter(df, Ano %in% c(2016:2019)) %>%
filter(Programa %in% c("2019 - Inclusão social por meio do Bolsa Família, do Cadastro Único e da articulação de políticas sociais",
"2037 - Consolidação do Sistema Único de Assistência Social (SUAS)")) %>%
mutate(area = case_when(`Ação` %in% c("0573 - Benefício de Prestação Continuada da Assistência Social à Pessoa Idosa",
"0575 - Benefício de Prestação Continuada da Assistência Social à Pessoa com Deficiência",
"2583 - Serviço de Processamento de Dados do Benefício de Prestação Continuada (BPC) e da Renda Mensal Vitalícia (RMV)",
"2589 - Avaliação e Operacionalização do Benefício de Prestação Continuada da Assistência Social (BPC) e Manutenção da Renda Mensal Vitalícia (RMV)") ~ "BPC",
str_detect(`Ação`, "2583") ~ "BPC",
str_detect(Objetivo, "0371") ~ 'BPC',
Programa == "2019 - Inclusão social por meio do Bolsa Família, do Cadastro Único e da articulação de políticas sociais" ~ "PBF",
TRUE ~ "SUAS")) %>%
group_by(Ano, area) %>%
summarise(Liquidado = sum(Liquidado))
df_2010_2019 <- bind_rows(df_2010_2011, df_2012_2015, df_2016_2019)
df_2010_2019 %>%
ggplot(aes(x=Ano, y=Liquidado, group=area, color=area)) +
geom_line()
df_2010_2019 %>%
ggplot(aes(x=Ano, y=Liquidado)) +
facet_wrap(area)
df_2010_2019 %>%
ggplot(aes(x=Ano, y=Liquidado)) +
facet_wrap(area)
df_2010_2019 %>%
ggplot(aes(x=Ano, y=Liquidado)) +
facet_wrap(~area)
df_2010_2019 %>%
ggplot(aes(x=Ano, y=Liquidado, group=area, color=area)) +
facet_wrap(~area)
df_2010_2019 %>%
ggplot(aes(x=Ano, y=Liquidado, group=area, color=area)) +
geom_line() +
facet_wrap(~area)
df_2010_2019 %>%
ggplot(aes(x=Ano, y=Liquidado, group=area, color=area)) +
geom_line() +
facet_wrap(~area, scale="free_y")
df_2010_2019 %>%
ggplot(aes(x=Ano, y=Liquidado, group=area, color=area)) +
geom_line() #+
df_2010_2019 %>%
ggplot(aes(x=Ano, y=Liquidado, group=area, color=area)) +
scale_x_continuous() +
geom_line()
df_2010_2019 %>%
ggplot(aes(x=Ano, y=Liquidado, group=area, color=area)) +
scale_x_continuous(2010, 2019, by=1) +
geom_line()
df_2010_2019 %>%
ggplot(aes(x=Ano, y=Liquidado, group=area, color=area)) +
scale_x_continuous(2010, 2019, by=1) +
geom_line()
df_2010_2019 %>%
ggplot(aes(x=Ano, y=Liquidado, group=area, color=area)) +
scale_x_continuous(2010, 2019, by=1) +
geom_line()
df_2010_2019 %>%
ggplot(aes(x=Ano, y=Liquidado, group=area, color=area)) +
scale_x_continuous(breaks = seq(2010, 2019, by=1)) +
geom_line()
df_2010_2019 %>%
ggplot(aes(x=Ano, y=Liquidado, group=area, color=area)) +
scale_x_continuous(breaks = seq(2010, 2019, by=1)) +
scale_y_continuous(labels = paste0(ylab, "B"),
breaks = 10^9 * ylab) +
geom_line()
df_2010_2019 %>%
ggplot(aes(x=Ano, y=Liquidado, group=area, color=area)) +
scale_x_continuous(breaks = seq(2010, 2019, by=1)) +
scale_y_continuous(labels = paste0(ylab, "B"),
breaks = 10^9 * ylab) +
geom_line()
df_2010_2019 %>%
ggplot(aes(x=Ano, y=Liquidado, group=area, color=area)) +
scale_x_continuous(breaks = seq(2010, 2019, by=1)) +
scale_y_continuous(labels = paste0(ylab, "B"),
breaks = 10^6 * ylab) +
geom_line()
df_2010_2019 %>%
ggplot(aes(x=Ano, y=Liquidado, group=area, color=area)) +
scale_x_continuous(breaks = seq(2010, 2019, by=1)) +
scale_y_continuous(labels = paste0(Liquidado, "B"),
breaks = 10^6 * Liquidado) +
geom_line()
library(scales)
df_2010_2019 %>%
ggplot(aes(x=Ano, y=Liquidado, group=area, color=area)) +
scale_x_continuous(breaks = seq(2010, 2019, by=1)) +
labels = unit_format(unit = "M", scale = 1e-6)
df_2010_2019 %>%
ggplot(aes(x=Ano, y=Liquidado, group=area, color=area)) +
scale_x_continuous(breaks = seq(2010, 2019, by=1)) +
labels = unit_format(unit = "M", scale = 1e-6) +
geom_line()
df_2010_2019 %>%
ggplot(aes(x=Ano, y=Liquidado, group=area, color=area)) +
scale_x_continuous(breaks = seq(2010, 2019, by=1)) +
scale_y_continuous(labels = unit_format(unit = "M", scale = 1e-6)) +
geom_line()
df_2010_2019 %>%
ggplot(aes(x=Ano, y=Liquidado, group=area, color=area)) +
scale_x_continuous(breaks = seq(2010, 2019, by=1)) +
scale_y_continuous(labels = unit_format(unit = "Bi", scale = 1e-9)) +
geom_line()
df_2010_2019 %>%
ggplot(aes(x=Ano, y=Liquidado, group=area, color=area)) +
scale_x_continuous(breaks = seq(2010, 2019, by=1)) +
scale_y_continuous(labels = unit_format(unit = "Bi", scale = 1e-9)) +
geom_line() +
theme_classic()
df_2010_2019 %>%
ggplot(aes(x=Ano, y=Liquidado, group=area, color=area)) +
scale_x_continuous(breaks = seq(2010, 2019, by=1)) +
scale_y_continuous(labels = unit_format(unit = "Bi", scale = 1e-9)) +
geom_line() +
theme_
df_2010_2019 %>%
ggplot(aes(x=Ano, y=Liquidado, group=area, color=area)) +
scale_x_continuous(breaks = seq(2010, 2019, by=1)) +
scale_y_continuous(labels = unit_format(unit = "Bi", scale = 1e-9)) +
geom_line() +
theme_minimal()
df_2010_2019 %>%
ggplot(aes(x=Ano, y=Liquidado, group=area, color=area)) +
scale_x_continuous(breaks = seq(2010, 2019, by=1)) +
scale_y_continuous(labels = unit_format(unit = "Bi", scale = 1e-9)) +
geom_line() +
theme_classic()
df_2010_2019 %>%
ggplot(aes(x=Ano, y=Liquidado, group=area, color=area)) +
scale_x_continuous(breaks = seq(2010, 2019, by=1)) +
scale_y_continuous(labels = unit_format(unit = "Bi", scale = 1e-9)) +
geom_line() +
theme_hc()
install.packages("ggthemes") # Install
df_2010_2019 %>%
ggplot(aes(x=Ano, y=Liquidado, group=area, color=area)) +
scale_x_continuous(breaks = seq(2010, 2019, by=1)) +
scale_y_continuous(labels = unit_format(unit = "Bi", scale = 1e-9)) +
geom_line() +
theme_fivethirtyeight()
library(ggthemes)
df_2010_2019 %>%
ggplot(aes(x=Ano, y=Liquidado, group=area, color=area)) +
scale_x_continuous(breaks = seq(2010, 2019, by=1)) +
scale_y_continuous(labels = unit_format(unit = "Bi", scale = 1e-9)) +
geom_line() +
theme_fivethirtyeight()
df_2010_2019 %>%
ggplot(aes(x=Ano, y=Liquidado, group=area, color=area)) +
scale_x_continuous(breaks = seq(2010, 2019, by=1)) +
scale_y_continuous(labels = unit_format(unit = "Bi", scale = 1e-9)) +
geom_line() +
geom_point() +
theme_fivethirtyeight()
df_2010_2019 %>%
rename(`Área` = area) %>%
ggplot(aes(x=Ano, y=Liquidado, group=area, color=area)) +
scale_x_continuous(breaks = seq(2010, 2019, by=1)) +
scale_y_continuous(labels = unit_format(unit = "Bi", scale = 1e-9)) +
geom_line() +
geom_point() +
theme_fivethirtyeight() +
label
df_2010_2019 %>%
rename(`Área` = area) %>%
ggplot(aes(x=Ano, y=Liquidado, group=Área, color=Área)) +
scale_x_continuous(breaks = seq(2010, 2019, by=1)) +
scale_y_continuous(labels = unit_format(unit = "Bi", scale = 1e-9)) +
geom_line() +
geom_point() +
theme_fivethirtyeight() +
label
df_2010_2019 %>%
rename(`Área` = area) %>%
ggplot(aes(x=Ano, y=Liquidado, group=`Área`, color=`Área`)) +
scale_x_continuous(breaks = seq(2010, 2019, by=1)) +
scale_y_continuous(labels = unit_format(unit = "Bi", scale = 1e-9)) +
geom_line() +
geom_point() +
theme_fivethirtyeight() +
label
df_2010_2019 %>%
ggplot(aes(x=Ano, y=Liquidado, group=area, color=area)) +
scale_x_continuous(breaks = seq(2010, 2019, by=1)) +
scale_y_continuous(labels = unit_format(unit = "Bi", scale = 1e-9)) +
geom_line() +
geom_point() +
theme_fivethirtyeight() +
label
df_2010_2019 %>%
ggplot(aes(x=Ano, y=Liquidado, group=area, color=area)) +
scale_x_continuous(breaks = seq(2010, 2019, by=1)) +
scale_y_continuous(labels = unit_format(unit = "Bi", scale = 1e-9)) +
geom_line() +
geom_point() +
theme_fivethirtyeight() +
labs(title = "Dados do orçamento liquidado das áreas do BPC, PBF e SUAS dos anos de 2010 a 2019",
x = "Área",
y = "Valor Liquidado")
df_2010_2019 %>%
ggplot(aes(x=Ano, y=Liquidado, group=area, color=area)) +
scale_x_continuous(breaks = seq(2010, 2019, by=1)) +
scale_y_continuous(labels = unit_format(unit = "Bi", scale = 1e-9)) +
geom_line() +
geom_point() +
theme_fivethirtyeight() +
labs(title = "Dados do orçamento liquidado das áreas do BPC, PBF e SUAS dos anos de 2010 a 2019",
x = "Área",
y = "Valor Liquidado",
color = "Área")
df_2010_2019 %>%
ggplot(aes(x=Ano, y=Liquidado, group=area, color=area)) +
scale_x_continuous(breaks = seq(2010, 2019, by=1)) +
scale_y_continuous(labels = unit_format(unit = "Bi", scale = 1e-9)) +
geom_line() +
geom_point() +
theme_fivethirtyeight() +
labs(title = "Dados do orçamento liquidado das áreas do BPC, PBF e SUAS\n2010 a 2019",
x = "Área",
y = "Valor Liquidado",
color = "Área")
write.xlsx(df_2016_2019, "resultado.xlsx", asTable = FALSE)
source('~/Documents/Trabalho/demanda_clientes/lazzarotti/analise.R')
write.xlsx(df_2010_2019, "resultado.xlsx", asTable = FALSE)
source('~/Documents/Trabalho/demanda_clientes/lazzarotti/analise.R')
source('~/Documents/Trabalho/demanda_clientes/lazzarotti/analise.R')
df_2010_2019 %>%
group_by(area) %>%
ggplot(aes(x=Ano, y=Liquidado, color=area)) +
scale_x_continuous(breaks = seq(2010, 2019, by=1)) +
scale_y_continuous(labels = unit_format(unit = "Bi", scale = 1e-9)) +
geom_line() +
geom_point() +
theme_fivethirtyeight() +
labs(title = "Dados do orçamento liquidado das áreas do BPC, PBF e SUAS\n2010 a 2019",
x = "Área",
y = "Valor Liquidado",
color = "Área")
df_2010_2019 %>%
#  group_by(area) %>%
ggplot(aes(x=Ano, y=Liquidado, group=area, color=area)) +
scale_x_continuous(breaks = seq(2010, 2019, by=1)) +
scale_y_continuous(labels = unit_format(unit = "Bi", scale = 1e-9)) +
geom_line() +
geom_point() +
theme_fivethirtyeight() +
labs(title = "Dados do orçamento liquidado das áreas do BPC, PBF e SUAS\n2010 a 2019",
x = "Área",
y = "Valor Liquidado",
color = "Área")
df_2010_2019 %>%
group_by(area) %>%
ggplot(aes(x=Ano, y=Liquidado, color=area)) +
scale_x_continuous(breaks = seq(2010, 2019, by=1)) +
scale_y_continuous(labels = unit_format(unit = "Bi", scale = 1e-9)) +
geom_line() +
geom_point() +
theme_fivethirtyeight() +
labs(title = "Dados do orçamento liquidado das áreas do BPC, PBF e SUAS\n2010 a 2019",
x = "Área",
y = "Valor Liquidado",
color = "Área")
df_2020 <- filter(df, Ano == 2020)
View(df_2020)
View(df_2016_2019)
`%notin%` <- Negate(`%in%`)
## 2020
df_2020 <- filter(df, Ano == 2020) %>%
filter(Programa %in% c("5028 - Inclusão Social por meio do Bolsa Família e da Articulação de Políticas Públicas",
"5031 - Proteção Social no âmbito do Sistema Único de Assistência Social (SUAS)")) %>%
filter(!str_detect(`Ação`, "Auxílio Emergencial"))
## 2020
df_2020 <- filter(df, Ano == 2020) %>%
filter(Programa %in% c("5028 - Inclusão Social por meio do Bolsa Família e da Articulação de Políticas Públicas",
"5031 - Proteção Social no âmbito do Sistema Único de Assistência Social (SUAS)")) #%>%
## 2020
df_2020 <- filter(df, Ano == 2020) %>%
filter(Programa %in% c("5028 - Inclusão Social por meio do Bolsa Família e da Articulação de Políticas Públicas",
"5031 - Proteção Social no âmbito do Sistema Único de Assistência Social (SUAS)")) %>%
filter(!str_detect(`Ação`, "Auxílio Emergencial"))# %>%
View(df_2020)
## 2020
df_2020 <- filter(df, Ano == 2020) %>%
filter(Programa %in% c("5028 - Inclusão Social por meio do Bolsa Família e da Articulação de Políticas Públicas",
"5031 - Proteção Social no âmbito do Sistema Único de Assistência Social (SUAS)")) %>%
filter(!str_detect(`Ação`, "Auxílio Emergencial")) %>%
mutate(area = case_when(Programa == "5028 - Inclusão Social por meio do Bolsa Família e da Articulação de Políticas Públicas" ~ "PBF",
`Ação` %in% c("00H5 - Benefícios de Prestação Continuada (BPC) à Pessoa Idosa e da Renda Mensal Vitalícia (RMV) por Idade",
"00IN - Benefícios de Prestação Continuada (BPC) à Pessoa com Deficiência e da Renda Mensal Vitalícia (RMV) por Invalidez",
"2583 - Processamento de Dados do Benefício de Prestação Continuada (BPC) e da Renda Mensal Vitalícia (RMV)",
"2589 - Avaliação e Operacionalização do Benefício de Prestação Continuada da Assistência Social (BPC) e Manutenção da Renda Mensal Vitalícia (RMV)" ~ "BPC",
TRUE ~ "SUAS")))
## 2020
df_2020 <- filter(df, Ano == 2020) %>%
filter(Programa %in% c("5028 - Inclusão Social por meio do Bolsa Família e da Articulação de Políticas Públicas",
"5031 - Proteção Social no âmbito do Sistema Único de Assistência Social (SUAS)")) %>%
filter(!str_detect(`Ação`, "Auxílio Emergencial")) %>%
mutate(area = case_when(Programa == "5028 - Inclusão Social por meio do Bolsa Família e da Articulação de Políticas Públicas" ~ "PBF",
`Ação` %in% c("00H5 - Benefícios de Prestação Continuada (BPC) à Pessoa Idosa e da Renda Mensal Vitalícia (RMV) por Idade",
"00IN - Benefícios de Prestação Continuada (BPC) à Pessoa com Deficiência e da Renda Mensal Vitalícia (RMV) por Invalidez",
"2583 - Processamento de Dados do Benefício de Prestação Continuada (BPC) e da Renda Mensal Vitalícia (RMV)",
"2589 - Avaliação e Operacionalização do Benefício de Prestação Continuada da Assistência Social (BPC) e Manutenção da Renda Mensal Vitalícia (RMV)") ~ "BPC",
TRUE ~ "SUAS"))
source('~/Documents/Trabalho/demanda_clientes/lazzarotti/analise.R')
df_2010_2020 <- bind_rows(df_2010_2011, df_2012_2015, df_2016_2019, df_2020)
df_2010_2020 %>%
group_by(area) %>%
ggplot(aes(x=Ano, y=Liquidado, color=area)) +
scale_x_continuous(breaks = seq(2010, 2019, by=1)) +
scale_y_continuous(labels = unit_format(unit = "Bi", scale = 1e-9)) +
geom_line() +
geom_point() +
theme_fivethirtyeight() +
labs(title = "Dados do orçamento liquidado das áreas do BPC, PBF e SUAS\n2010 a 2019",
x = "Área",
y = "Valor Liquidado",
color = "Área")
View(df_2020)
View(df_2010_2020)
## 2020
df_2020 <- filter(df, Ano == 2020) %>%
filter(Programa %in% c("5028 - Inclusão Social por meio do Bolsa Família e da Articulação de Políticas Públicas",
"5031 - Proteção Social no âmbito do Sistema Único de Assistência Social (SUAS)")) %>%
filter(!str_detect(`Ação`, "Auxílio Emergencial")) %>%
mutate(area = case_when(Programa == "5028 - Inclusão Social por meio do Bolsa Família e da Articulação de Políticas Públicas" ~ "PBF",
`Ação` %in% c("00H5 - Benefícios de Prestação Continuada (BPC) à Pessoa Idosa e da Renda Mensal Vitalícia (RMV) por Idade",
"00IN - Benefícios de Prestação Continuada (BPC) à Pessoa com Deficiência e da Renda Mensal Vitalícia (RMV) por Invalidez",
"2583 - Processamento de Dados do Benefício de Prestação Continuada (BPC) e da Renda Mensal Vitalícia (RMV)",
"2589 - Avaliação e Operacionalização do Benefício de Prestação Continuada da Assistência Social (BPC) e Manutenção da Renda Mensal Vitalícia (RMV)") ~ "BPC",
TRUE ~ "SUAS")) %>%
group_by(Ano, area) %>%
summarise(Liquidado = sum(Liquidado))
df_2010_2020 <- bind_rows(df_2010_2011, df_2012_2015, df_2016_2019, df_2020)
df_2010_2020 %>%
group_by(area) %>%
ggplot(aes(x=Ano, y=Liquidado, color=area)) +
scale_x_continuous(breaks = seq(2010, 2019, by=1)) +
scale_y_continuous(labels = unit_format(unit = "Bi", scale = 1e-9)) +
geom_line() +
geom_point() +
theme_fivethirtyeight() +
labs(title = "Dados do orçamento liquidado das áreas do BPC, PBF e SUAS\n2010 a 2019",
x = "Área",
y = "Valor Liquidado",
color = "Área")
write.xlsx(df_2010_2019, "resultado.xlsx", asTable = FALSE)
df_2010_2020 %>%
group_by(area) %>%
ggplot(aes(x=Ano, y=Liquidado, color=area)) +
scale_x_continuous(breaks = seq(2010, 2020, by=1)) +
scale_y_continuous(labels = unit_format(unit = "Bi", scale = 1e-9)) +
geom_line() +
geom_point() +
theme_fivethirtyeight() +
labs(title = "Dados do orçamento liquidado das áreas do BPC, PBF e SUAS\n2010 a 2019",
x = "Área",
y = "Valor Liquidado",
color = "Área")
write.xlsx(df_2010_2019, "resultado.xlsx", asTable = FALSE)
source('~/Documents/Trabalho/demanda_clientes/lazzarotti/analise.R')
View(df_2016_2019)
write.xlsx(df_2010_2020, "resultado.xlsx", asTable = FALSE)
source('~/Documents/Trabalho/demanda_clientes/lazzarotti/analise.R')
# 2009 - 2012
df_2010_2011 <- filter(df, Ano %in% c(2010, 2011)) #%>%
View(df_2010_2011)
source('~/Documents/Trabalho/demanda_clientes/lazzarotti/analise.R')
df_2010_2020 %>%
group_by(area) %>%
ggplot(aes(x=Ano, y=Liquidado, color=area)) +
scale_x_continuous(breaks = seq(2010, 2020, by=1)) +
scale_y_continuous(labels = unit_format(unit = "Bi", scale = 1e-9)) +
geom_line() +
geom_point() +
theme_fivethirtyeight() +
labs(title = "Dados do orçamento liquidado das áreas do BPC, PBF e SUAS\n2010 a 2019",
color = "Área")
